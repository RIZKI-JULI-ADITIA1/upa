<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Iky & Upa ü§ç</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box}
body{
 margin:0;height:100vh;overflow:hidden;
 font-family:'Segoe UI',system-ui,sans-serif;
 background:black;color:white;
}

/* ================= INTRO ================= */
#intro{
 position:fixed; inset:0; z-index:9999;
 display:flex; flex-direction:column;
 justify-content:center; align-items:center;
}
#intro video{
 position:absolute; inset:0;
 width:100%; height:100%;
 object-fit:cover; z-index:-2;
}
#intro::after{
 content:""; position:absolute; inset:0;
 background:rgba(0,0,0,.5); z-index:-1;
}
.intro-astro{
 width:140px; margin-bottom:18px;
 animation:float 6s ease-in-out infinite;
}
.intro-bubble{
 background:white; color:#333;
 padding:16px 20px;
 border-radius:18px;
 max-width:260px;
 font-size:.95rem;
 line-height:1.6;
 margin-bottom:16px;
 position:relative;
}
.intro-bubble::after{
 content:""; position:absolute;
 bottom:-10px; left:30px;
 border-width:10px 10px 0;
 border-style:solid;
 border-color:white transparent transparent;
}
#introBtn{
 padding:14px 28px;
 border:none;
 border-radius:14px;
 background:#6f8cff;
 color:white;
 font-size:1rem;
}

/* ================= MAIN BG ================= */
video.bg{
 position:fixed; inset:0;
 width:100%; height:100%;
 object-fit:cover; z-index:-2;
 filter:brightness(.85);
}
.overlay{
 position:fixed; inset:0;
 background:rgba(0,0,0,.55);
 z-index:-1;
}

/* ================= CARD ================= */
.wrapper{
 height:100vh; display:flex;
 justify-content:center; align-items:center;
 padding:16px;
}
.card{
 width:100%; max-width:360px;
 padding:26px 24px;
 border-radius:26px;
 background:linear-gradient(160deg,rgba(255,255,255,.18),rgba(255,255,255,.04));
 backdrop-filter:blur(20px);
 box-shadow:0 30px 80px rgba(0,0,0,.75);
 text-align:center;
}
.astronaut{
 width:130px;
 margin:0 auto 14px;
 animation:float 6s ease-in-out infinite;
}
@keyframes float{
 0%,100%{transform:translateY(0)}
 50%{transform:translateY(-12px)}
}
#text{
 font-size:1.02rem;
 line-height:1.85;
 min-height:130px;
 margin-bottom:18px;
 white-space:pre-line;
}
#dots{
 display:flex;
 justify-content:center;
 gap:6px;
 margin-bottom:18px;
}
#dots span{
 width:7px;height:7px;
 border-radius:50%;
 background:rgba(255,255,255,.35);
}
#dots span.active{background:white}
button{
 padding:13px 30px;
 border-radius:999px;
 border:none;
 background:white;
 color:#1c2554;
 font-size:.95rem;
 font-weight:600;
}
.options{
 display:none;
 gap:12px;
 justify-content:center;
}
.options button{flex:1}

/* RUNAWAY */
#btnTidak{
 position:relative;
}

/* ================= PHOTO SLIDE ================= */
.photo-wrap{
 position:fixed; inset:0;
 pointer-events:none;
 z-index:5;
 display:none;
}
.photo{
 position:absolute;
 width:130px;
 border-radius:16px;
 overflow:hidden;
 box-shadow:0 18px 40px rgba(0,0,0,.6);
 opacity:0;
 transform:scale(.9) rotate(-2deg);
 filter:blur(6px);
 transition:all 1.5s ease;
 animation:polaroid 6s ease-in-out infinite;
}
@keyframes polaroid{
 0%,100%{transform:rotate(-2deg)}
 50%{transform:rotate(2deg)}
}
.photo.show{
 opacity:1;
 transform:scale(1) rotate(0);
 filter:blur(0);
}
.photo img{width:100%}
.photo span{
 position:absolute;
 bottom:0; left:0; right:0;
 padding:8px;
 font-size:.7rem;
 background:linear-gradient(to top,rgba(0,0,0,.75),transparent);
}
</style>
</head>

<body>

<!-- INTRO -->
<div id="intro">
 <video src="intro.mp4" autoplay muted loop playsinline></video>
 <img src="astro_intro.png" class="intro-astro">
 <div class="intro-bubble" id="introText"></div>
 <button id="introBtn">Klik Disini</button>
</div>

<!-- MAIN -->
<video id="bgVideo" class="bg" autoplay muted loop playsinline></video>
<div class="overlay"></div>

<audio id="music" loop>
 <source src="music.mp3" type="audio/mpeg">
</audio>

<div class="photo-wrap" id="photoWrap"></div>

<div class="wrapper">
 <div class="card" id="card">
  <img id="astro" class="astronaut">
  <div id="text"></div>
  <div id="dots"></div>

  <button id="nextBtn">Lanjut</button>

  <div class="options" id="options">
   <button onclick="answer(true)">Aku juga ü§ç</button>
   <button id="btnTidak">Aku masih mikir‚Ä¶</button>
  </div>
 </div>
</div>

<script>
/* INTRO LOGIC */
const introTexts=[
 "Ayang Upa ü§ç",
 "Aku mau ngomong sesuatu‚Ä¶",
 "Pelan-pelan ya.",
 "Sekarang masuk ü§ç"
];
let introIndex=0;
const introText=document.getElementById("introText");
document.getElementById("introBtn").onclick=()=>{
 introIndex++;
 if(introIndex<introTexts.length){
  typeIntro(introTexts[introIndex]);
 }else{
  document.getElementById("intro").style.display="none";
  startMain();
 }
};
function typeIntro(t){
 introText.textContent="";
 let i=0;
 const x=setInterval(()=>{
  introText.textContent+=t[i++]||"";
  if(i>t.length)clearInterval(x);
 },55);
}
typeIntro(introTexts[0]);

/* MAIN DATA */
const NOMOR_IKY="62895387764779";
const slides=[
 {video:"slide1.mp4",astro:"astro1.png",text:"Di semesta yang luas ini‚Ä¶\n\nAda satu hal kecil\nyang pelan-pelan bikin Iky berhenti."},
 {video:"slide2.mp4",astro:"astro2.png",text:"Upa‚Ä¶\n\nTanpa sadar,\nhari-hari Iky mulai penuh\nkarena kamu."},
 {video:"slide3.mp4",astro:"astro3.png",text:"Bukan karena kamu sempurna.\n\nTapi karena bersama kamu,\nIky ngerasa pulang."},
 {video:"slide4.mp4",astro:"astro4.png",text:"Aku takut kehilangan kamu.\n\nBukan karena aku lemah‚Ä¶\nTapi karena aku sayang sedalam ini."},
 {video:"slide1.mp4",astro:"astro5.png",text:"Kalau Iky boleh minta satu hal‚Ä¶\n\nTinggallah.\nDi semesta kecil bernama kita ü§ç",end:true},
 {video:"slide2.mp4",photo:true}
];

let index=0,typing=null;
const textEl=document.getElementById("text");
const astro=document.getElementById("astro");
const nextBtn=document.getElementById("nextBtn");
const options=document.getElementById("options");
const dots=document.getElementById("dots");
const photoWrap=document.getElementById("photoWrap");
const music=document.getElementById("music");

/* MUSIC */
document.addEventListener("click",()=>{music.play()},{once:true});

/* TYPE */
function typeText(t){
 clearInterval(typing);
 textEl.textContent="";
 let i=0;
 typing=setInterval(()=>{
  textEl.textContent+=t[i++]||"";
  if(i>t.length)clearInterval(typing);
 },45);
}

/* DOTS */
function renderDots(){
 dots.innerHTML="";
 slides.forEach((_,i)=>{
  const d=document.createElement("span");
  if(i===index)d.classList.add("active");
  dots.appendChild(d);
 });
}

/* LOAD SLIDE */
function loadSlide(){
 const s=slides[index];
 document.getElementById("bgVideo").src=s.video;
 renderDots();

 if(s.photo){
  showPhotos();
  return;
 }

 astro.src=s.astro;
 typeText(s.text);

 if(s.end){
  nextBtn.style.display="none";
  options.style.display="flex";
 }
}

/* NEXT */
nextBtn.onclick=()=>{index++;loadSlide()};

/* RUNAWAY */
document.getElementById("btnTidak").onmouseenter=e=>{
 e.target.style.left=(Math.random()*120-60)+"px";
 e.target.style.top=(Math.random()*120-60)+"px";
};

/* PHOTO SLIDE */
function showPhotos(){
 astro.style.display=textEl.style.display=dots.style.display=nextBtn.style.display=options.style.display="none";
 photoWrap.style.display="block";

 const pos=[
  {top:"22%",left:"6%"},
  {top:"22%",right:"6%"},
  {bottom:"12%",left:"50%",transform:"translateX(-50%)"}
 ];
 ["photo1.jpeg","photo2.jpeg","photo3.jpeg"].forEach((p,i)=>{
  const d=document.createElement("div");
  d.className="photo";
  d.innerHTML=`<img src="${p}"><span>ü§ç</span>`;
  Object.assign(d.style,pos[i]);
  photoWrap.appendChild(d);
  setTimeout(()=>d.classList.add("show"),1200*i);
 });
 setTimeout(()=>answer(true),8500);
}

/* ANSWER */
function answer(){
 typeText("Makasih ya, Upa ü§ç");
 setTimeout(()=>{
  location.href="https://wa.me/"+NOMOR_IKY;
 },3500);
}

/* START */
function startMain(){loadSlide()}
</script>

</body>
</html>
