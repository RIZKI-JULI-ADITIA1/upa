<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Iky & Upa ü§ç</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box}
body{
 margin:0;height:100vh;overflow:hidden;
 font-family:'Segoe UI',system-ui,sans-serif;
 background:black;color:white;
}

/* ================= INTRO POPUP ================= */
#intro{
 position:fixed;
 inset:0;
 display:flex;
 flex-direction:column;
 justify-content:center;
 align-items:center;
 z-index:9999;
}

/* VIDEO INTRO */
#intro video{
 position:absolute;
 inset:0;
 width:100%;
 height:100%;
 object-fit:cover;
 z-index:-2;
}

/* OVERLAY INTRO */
#intro::after{
 content:"";
 position:absolute;
 inset:0;
 background:rgba(0,0,0,.45);
 z-index:-1;
}

/* ASTRONAUT INTRO */
.intro-astro{
 width:140px;
 margin-bottom:18px;
 animation:float 6s ease-in-out infinite;
}

.intro-bubble{
 background:white;
 color:#333;
 padding:16px 20px;
 border-radius:18px;
 max-width:260px;
 font-size:.95rem;
 line-height:1.6;
 margin-bottom:18px;
 position:relative;
 animation:pop .4s ease;
}

.intro-bubble::after{
 content:"";
 position:absolute;
 bottom:-10px;
 left:30px;
 border-width:10px 10px 0;
 border-style:solid;
 border-color:white transparent transparent;
}

@keyframes pop{
 from{opacity:0;transform:scale(.85)}
 to{opacity:1;transform:scale(1)}
}

@keyframes float{
 0%,100%{transform:translateY(0)}
 50%{transform:translateY(-12px)}
}

#introBtn{
 padding:14px 28px;
 border:none;
 border-radius:14px;
 background:#6f8cff;
 color:white;
 font-size:1rem;
 cursor:pointer;
}

/* ================= VIDEO BG ================= */
video.bg{
 position:fixed;
 inset:0;
 width:100%;
 height:100%;
 object-fit:cover;
 z-index:-2;
 filter:brightness(.85);
}

/* ================= OVERLAY ================= */
.overlay{
 position:fixed;
 inset:0;
 background:rgba(0,0,0,.55);
 z-index:-1;
 transition:1s;
}

/* ================= CENTER CARD ================= */
.wrapper{
 height:100vh;
 display:flex;
 justify-content:center;
 align-items:center;
 padding:16px;
}

.card{
 width:100%;
 max-width:360px;
 padding:26px 24px;
 border-radius:26px;
 background:linear-gradient(160deg,rgba(255,255,255,.18),rgba(255,255,255,.04));
 backdrop-filter:blur(20px);
 box-shadow:0 30px 80px rgba(0,0,0,.75);
 text-align:center;
 animation:fade .8s ease;
}

@keyframes fade{
 from{opacity:0;transform:scale(.92)}
 to{opacity:1;transform:scale(1)}
}

/* ================= ASTRONAUT ================= */
.astronaut{
 width:130px;
 margin:0 auto 14px;
 animation:float 6s ease-in-out infinite;
}

/* ================= TEXT ================= */
#text{
 font-size:1.02rem;
 line-height:1.85;
 min-height:130px;
 margin-bottom:18px;
 white-space:pre-line;
}

/* ================= DOTS ================= */
#dots{
 display:flex;
 justify-content:center;
 gap:6px;
 margin-bottom:18px;
}
#dots span{
 width:7px;height:7px;border-radius:50%;
 background:rgba(255,255,255,.35)
}
#dots span.active{background:white}

/* ================= BUTTON ================= */
button{
 padding:13px 30px;
 border-radius:999px;
 border:none;
 background:white;
 color:#1c2554;
 font-size:.95rem;
 font-weight:600;
 cursor:pointer;
 transition:.25s;
}
button:hover{transform:scale(1.05)}

.options{display:none;gap:12px;justify-content:center}
.options button{flex:1}

/* ================= PHOTO SLIDE ================= */
.photo-wrap{
 position:fixed;
 inset:0;
 z-index:5;
 pointer-events:none;
 display:none;
}

.photo{
 position:absolute;
 width:130px;
 border-radius:16px;
 overflow:hidden;
 box-shadow:0 18px 40px rgba(0,0,0,.6);
 opacity:0;
 transform:scale(.9) rotate(-2deg);
 filter:blur(6px);
 transition:all 1.5s ease;
 animation:polaroid 6s ease-in-out infinite;
}

@keyframes polaroid{
 0%,100%{transform:rotate(-2deg)}
 50%{transform:rotate(2deg)}
}

.photo.show{
 opacity:1;
 transform:scale(1) rotate(0deg);
 filter:blur(0);
}

.photo img{width:100%;display:block}
.photo span{
 position:absolute;
 bottom:0;left:0;right:0;
 padding:8px;
 font-size:.7rem;
 background:linear-gradient(to top,rgba(0,0,0,.75),transparent);
}
</style>
</head>

<body>

<!-- ========== INTRO ========== -->
<div id="intro">
 <video src="intro.mp4" autoplay muted loop playsinline></video>
 <img src="astro_intro.png" class="intro-astro">
 <div class="intro-bubble" id="introText"></div>
 <button id="introBtn">Klik Disini</button>
</div>

<!-- ========== MAIN ========== -->
<video id="bgVideo" class="bg" autoplay muted loop></video>
<div class="overlay"></div>

<audio id="music" loop>
 <source src="music.mp3" type="audio/mpeg">
</audio>

<div class="photo-wrap" id="photoWrap"></div>

<div class="wrapper">
 <div class="card" id="card">
  <img id="astro" class="astronaut">
  <div id="text"></div>
  <div id="dots"></div>

  <button id="nextBtn">Lanjut</button>

  <div class="options" id="options">
   <button onclick="answer()">Aku juga ü§ç</button>
   <button id="btnTidak">Aku masih mikir‚Ä¶</button>
  </div>

  <div class="hint">Swipe kiri / kanan ‚ú®</div>
 </div>
</div>

<script>
/* ================= INTRO LOGIC ================= */
const introTexts=[
 "Ayang Upa ü§ç",
 "Aku bikin ini pelan-pelan‚Ä¶",
 "Cuma buat kamu.",
 "Klik sekali lagi ya‚Ä¶"
];
let introIndex=0;
const intro=document.getElementById("intro");
const introText=document.getElementById("introText");
const introBtn=document.getElementById("introBtn");

function typeIntro(t){
 introText.textContent="";
 let i=0;
 const x=setInterval(()=>{
  introText.textContent+=t[i++]||"";
  if(i>t.length)clearInterval(x);
 },55);
}

typeIntro(introTexts[0]);
introBtn.onclick=()=>{
 introIndex++;
 if(introIndex<introTexts.length){
  typeIntro(introTexts[introIndex]);
 }else{
  intro.style.display="none";
  startMain();
 }
};

/* ================= MAIN SCRIPT ================= */
const NOMOR_IKY="62895387764779";

const slides=[
 {video:"slide1.mp4",astro:"astro1.png",
  text:"Di semesta yang luas ini‚Ä¶\n\nAda satu hal kecil\nyang pelan-pelan bikin Iky berhenti."},
 {video:"slide2.mp4",astro:"astro2.png",
  text:"Upa‚Ä¶\n\nTanpa sadar,\nhari-hari Iky mulai penuh\nkarena kamu."},
 {video:"slide3.mp4",astro:"astro3.png",
  text:"Bukan karena kamu sempurna.\n\nTapi karena bersama kamu,\nIky ngerasa pulang."},
 {video:"slide4.mp4",astro:"astro4.png",
  text:"Aku takut kehilangan kamu.\n\nBukan karena aku lemah‚Ä¶\nTapi karena aku sayang sedalam ini."},
 {video:"slide1.mp4",astro:"astro5.png",
  text:"Kalau Iky boleh minta satu hal‚Ä¶\n\nTinggallah.\nDi semesta kecil bernama kita ü§ç"},
 {video:"slide2.mp4",photoSlide:true,
  photos:[
   {src:"photo1.jpeg",cap:"Senyum yang selalu bikin aku tenang ü§ç"},
   {src:"photo2.jpeg",cap:"Tanpa sadar, kamu rumah."},
   {src:"photo3.jpeg",cap:"Aku jatuh‚Ä¶ pelan-pelan, tapi dalam."}
 ]}
];

let index=0,typing=null;
const textEl=document.getElementById("text");
const astro=document.getElementById("astro");
const video=document.getElementById("bgVideo");
const nextBtn=document.getElementById("nextBtn");
const dots=document.getElementById("dots");
const photoWrap=document.getElementById("photoWrap");
const music=document.getElementById("music");

document.addEventListener("click",()=>{
 if(music.paused){music.volume=.25;music.play();}
},{once:true});

function typeText(t,s=45){
 clearInterval(typing);
 textEl.textContent="";
 let i=0;
 typing=setInterval(()=>{
  textEl.textContent+=t[i++]||"";
  if(i>t.length)clearInterval(typing);
 },s);
}

function renderDots(){
 dots.innerHTML="";
 slides.forEach((_,i)=>{
  const d=document.createElement("span");
  if(i===index)d.classList.add("active");
  dots.appendChild(d);
 });
}

function showPhotoSlide(s){
 astro.style.display=textEl.style.display=dots.style.display=nextBtn.style.display="none";
 photoWrap.style.display="block";
 photoWrap.innerHTML="";

 const pos=[
  {top:"22%",left:"6%"},
  {top:"22%",right:"6%"},
  {bottom:"12%",left:"50%",transform:"translateX(-50%)"}
 ];

 s.photos.forEach((p,i)=>{
  const d=document.createElement("div");
  d.className="photo";
  d.innerHTML=`<img src="${p.src}"><span>${p.cap}</span>`;
  Object.assign(d.style,pos[i]);
  photoWrap.appendChild(d);
  setTimeout(()=>d.classList.add("show"),1200*i);
 });

 setTimeout(answer,8500);
}

function loadSlide(){
 const s=slides[index];
 video.src=s.video;
 renderDots();

 if(s.photoSlide){showPhotoSlide(s);return;}

 astro.src=s.astro;
 astro.style.display=textEl.style.display=dots.style.display=nextBtn.style.display="block";
 typeText(s.text,index>=3?65:45);
}

nextBtn.onclick=()=>{index++;if(index<slides.length)loadSlide()};

function answer(){
 typeText("Makasih ya, Upa ü§ç\nKarena sudah memilih Iky.",60);
 setTimeout(()=>{location.href="https://wa.me/"+NOMOR_IKY},4200);
}

function startMain(){setTimeout(loadSlide,600);}
</script>

</body>
</html>
