<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Iky & Upa ü§ç</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box}

body{
  margin:0;
  height:100vh;
  overflow:hidden;
  font-family:'Segoe UI',system-ui,sans-serif;
  background:black;
  color:white;
}

/* VIDEO */
video.bg{
  position:fixed;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  z-index:-2;
  transition:opacity 1.5s ease,transform .5s ease,filter 1s ease;
}

/* OVERLAY */
.overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.55);
  z-index:-1;
  transition:background 1s ease;
}

/* CENTER */
.wrapper{
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  padding:18px;
}

/* CARD */
.card{
  width:100%;
  max-width:420px;
  padding:38px;
  border-radius:30px;
  background:linear-gradient(160deg,rgba(255,255,255,.18),rgba(255,255,255,.04));
  backdrop-filter:blur(22px);
  box-shadow:0 35px 90px rgba(0,0,0,.7);
  text-align:center;
  animation:fade .9s ease;
}

@keyframes fade{
  from{opacity:0;transform:scale(.9)}
  to{opacity:1;transform:scale(1)}
}

/* ASTRONAUT */
.astronaut{
  width:160px;
  margin:0 auto 20px;
  display:block;
  animation:float 6s ease-in-out infinite, rotate 18s linear infinite;
}

@keyframes float{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(-16px)}
}

@keyframes rotate{
  from{rotate:0deg}
  to{rotate:360deg}
}

/* TEXT */
#text{
  font-size:1.1rem;
  line-height:1.9;
  min-height:150px;
  margin-bottom:22px;
  white-space:pre-line;
}

/* BUTTON */
button{
  padding:14px 36px;
  border-radius:999px;
  border:none;
  background:white;
  color:#1c2554;
  font-size:1rem;
  font-weight:600;
  cursor:pointer;
  transition:.25s ease;
}

button:hover{transform:scale(1.05)}

.options{
  display:none;
  gap:12px;
  justify-content:center;
  position:relative;
}

.options button{flex:1}

/* RUNAWAY */
.runaway{
  position:relative;
  transition:top .25s ease,left .25s ease;
}

/* HINT */
.hint{
  margin-top:14px;
  font-size:.75rem;
  opacity:.65;
}
</style>
</head>

<body>

<video id="bgVideo" class="bg" autoplay muted loop playsinline></video>
<div class="overlay" id="overlay"></div>

<audio id="music" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>

<div class="wrapper">
  <div class="card" id="card">
    <img id="astro" class="astronaut" src="">
    <div id="text"></div>

    <button id="nextBtn">Lanjut</button>

    <div class="options" id="options">
      <button onclick="answer(true)">Aku juga ü§ç</button>
      <button id="btnTidak">Aku masih mikir‚Ä¶</button>
    </div>

    <div class="hint">Swipe kiri / kanan di kartu ‚ú®</div>
  </div>
</div>

<script>
/* ================= CONFIG ================= */
const NOMOR_IKY = "6281234567890"; // GANTI NOMOR KAMU
/* ========================================= */

const slides=[
 {video:"slide1.mp4",astro:"astro1.png",
  text:"Di semesta yang luas ini‚Ä¶\n\nAda satu hal kecil\nyang pelan-pelan bikin Iky berhenti."},

 {video:"slide2.mp4",astro:"astro2.png",
  text:"Upa‚Ä¶\n\nTanpa sadar,\nhari-hari Iky mulai penuh\nkarena kamu."},

 {video:"slide3.mp4",astro:"astro3.png",
  text:"Bukan karena kamu sempurna.\n\nTapi karena bersama kamu,\nIky ngerasa pulang."},

 {video:"slide4.mp4",astro:"astro4.png",
  text:"Aku takut kehilangan kamu.\n\nBukan karena aku lemah‚Ä¶\nTapi karena aku sayang sedalam ini."},

 {video:"slide1.mp4",astro:"astro5.png",
  text:"Kalau Iky boleh minta satu hal‚Ä¶\n\nTinggallah.\nDi semesta kecil bernama kita ü§ç",
  end:true}
];

let index=0;
let typing=null;
let kaburCount=0;

const textEl=document.getElementById("text");
const videoEl=document.getElementById("bgVideo");
const astroEl=document.getElementById("astro");
const nextBtn=document.getElementById("nextBtn");
const options=document.getElementById("options");
const btnTidak=document.getElementById("btnTidak");
const music=document.getElementById("music");
const overlay=document.getElementById("overlay");
const card=document.getElementById("card");

/* MUSIC START */
document.addEventListener("click",()=>{
 if(music.paused){
  music.volume=0.2;
  music.play();
 }
},{once:true});

/* TYPE EFFECT */
function typeText(t,speed=45){
 clearInterval(typing);
 textEl.textContent="";
 let i=0;
 typing=setInterval(()=>{
  textEl.textContent+=t.charAt(i++);
  if(i>=t.length) clearInterval(typing);
 },speed);
}

/* LOAD SLIDE */
function loadSlide(){
 typeText(slides[index].text, index>=3?65:45);
 videoEl.src=slides[index].video;
 astroEl.src=slides[index].astro;

 // mood galau
 if(index===3){
  overlay.style.background="rgba(0,0,0,.7)";
  music.volume=0.35;
 }

 if(slides[index].end){
  nextBtn.style.display="none";
  options.style.display="flex";
  btnTidak.classList.add("runaway");
 }
}

/* NEXT */
nextBtn.onclick=()=>{
 index++;
 if(index<slides.length) loadSlide();
};

/* ANSWER */
function answer(yes){
 options.style.display="none";

 if(yes){
  typeText("Tarik napas dulu ya‚Ä¶\n\nIky mau bilang sesuatu ü§ç",65);

  setTimeout(()=>{
   typeText("Makasih ya, Upa.\nKarena sudah memilih Iky ü§ç",55);
  },2200);

  setTimeout(()=>{
   window.location.href=
    "https://wa.me/"+NOMOR_IKY+
    "?text="+encodeURIComponent(
     "Iky‚Ä¶ aku juga ü§ç\nAku nangis bacanya.\nTerima kasih ya."
    );
  },5200);
 }
}

/* RUNAWAY BUTTON */
btnTidak.addEventListener("mouseenter",kabur);
btnTidak.addEventListener("touchstart",kabur);

function kabur(e){
 e.preventDefault();
 kaburCount++;
 btnTidak.style.left=(Math.random()*120-60)+"px";
 btnTidak.style.top=(Math.random()*120-60)+"px";

 if(kaburCount>=4){
  btnTidak.style.display="none";
  typeText("Hehe‚Ä¶ üòå\nDari awal cuma ada satu jawaban ü§ç",60);
  setTimeout(()=>answer(true),2600);
 }
}

/* SWIPE FIX */
let startX=0;
card.addEventListener("touchstart",e=>{
 startX=e.touches[0].clientX;
});
card.addEventListener("touchend",e=>{
 const diff=e.changedTouches[0].clientX-startX;
 if(Math.abs(diff)>70 && nextBtn.style.display!=="none"){
  index++;
  if(index<slides.length) loadSlide();
 }
});

/* INIT */
setTimeout(()=>{
 typeText("Di semesta yang luas ini‚Ä¶",70);
 videoEl.src="slide1.mp4";
 astroEl.src="astro1.png";
},800);
</script>

</body>
</html>

